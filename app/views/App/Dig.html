{{set . "title" "EduDig"}}
{{ append . "moreStyles" "edudig.css" }}
{{template "header.html" .}}

<header class="jumbotron" style="background-color:#d2cfcf">
    <div class="container">
        <div class="row">
            <p>; <<>> Digish 0.0.1 <<>> {{ .zone }} </p>
            <p>;; global options: +cmd</p>
            <p>;; Got answer:</p>
            <p>;; ->>HEADER<<-
                opcode: {{ optCodeToString .response.MsgHdr.Opcode }},
                status: {{ rCodeToString .response.MsgHdr.Rcode }},
                id: {{ .response.MsgHdr.Id }}
            </p>
            <p>;; flags:
                <span id="msgHdr{{ .response.MsgHdr.Response }}"> qr</span>
                <span id="msgHdr{{.response.MsgHdr.Authoritative }}">aa</span>
                <span id="msgHdr{{.response.MsgHdr.Truncated }}">tc</span>
                <span id="msgHdr{{.response.MsgHdr.RecursionDesired }}">rd</span>
                <span id="msgHdr{{.response.MsgHdr.RecursionAvailable }}">ra</span>
                <span id="msgHdr{{.response.MsgHdr.Zero }}">z</span>
                <span id="msgHdr{{.response.MsgHdr.AuthenticatedData }}">ad</span>
                <span id="msgHdr{{.response.MsgHdr.CheckingDisabled }}">cd</span>
                ;
                QUERY: {{ len .response.Question}},
                ANSWER: {{ len .response.Answer}},
                AUTHORITY: {{ len .response.Ns}},
                ADDITIONAL: {{ len .response.Extra}}
            <br>
            <p>;; OPT PSEUDOSECTION:</p>
            <p>; EDNS: version: 0, flags:; udp: 1232 </p>
            {{ if .response.Question }}
                <br>
                <p>;; QUESTION SECTION;</p>
                {{ range .response.Question }}
                <p>;{{ .Name }}     {{ qtypeToString .Qtype }}    {{ qclassToString .Qclass }}</p>
                {{ end }}
            {{ end }}
            <p></p>
            {{ if .response.Answer }}
                <br>
                <p>;; ANSWER SECTION:</p>
                {{ range .response.Answer }}
                    <p>{{ . }}</p>
                {{ end }}
            {{ end }}
            {{ if .response.Ns }}
                <br>
                <p>;; AUTHORITY SECTION:</p>
                {{ range .response.Ns }}
                    <p>{{ . }}</p>
                {{ end }}
            {{ end }}
            {{ if .response.Extra }}
                <br>
                <p>;; ADDITIONAL SECTION:</p>
                {{ range .response.Extra }}
                    <p>{{ . }}</p>
                {{ end }}
            {{ end }}
            <br>
            <p>;; Query time: {{ .rtt }}</p>
            <p>;; SERVER: {{ .nameserver }}#{{ .port }}({{ .nameserver }}) ({{ .transport }})</p>
            <p>;; WHEN: {{ getTime }}</p>
            <p>;; MSG SIZE rcvd: {{ .msgSize }}</p>
        </div>
    </div>
</header>

<div class="container">
    <div class="row">
        <div class="span6">
            {{template "flash.html" .}}
        </div>
    </div>
</div>

<form action="/App/Dig" method="GET">
    <input type="text" name="zone" /><br/>
    <input type="submit" value="Enter Zone" />

    <label for="transport">UDP|TCP</label>
    <select name="transport">
        <option value="udp">UDP</option>
        <option value="tcp">TCP</option>
    </select>

    <label for="qtype">Query Type</label>
    <select name="qtype">
        <option value=1>A</option>
        <option value=2>NS</option>
        <option value=6>SOA</option>
        <option value=15>MX</option>
        <option value=48>DNSKEY</option>
    </select>
</form>

<div class="container">
    <a href="/"> home </a>
</div>

{{template "footer.html" .}}
