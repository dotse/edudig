{{set . "title" "EduDig"}}
{{ append . "moreStyles" "edudig.css" }}
{{template "header.html" .}}
{{template "App/digish.html" .}}
<div class="main">
<div class="grid-container">
    <div class="grid-item-digish">
        <div class="container">
            <div class="row">
                <p>; <<>> Digish 0.0.1 <<>> {{ .zone }} </p>
                <p>;; global options: +cmd</p>
                <p>;; Got answer:</p>
                <p>;; ->>HEADER<<-
                    <button onclick="newInfo('Opcode')" class="txt"> opcode: {{ optCodeToString .response.MsgHdr.Opcode }}</button>,
                    <button onclick="newInfo('Status')" class="txt"> status: {{ rCodeToString .response.MsgHdr.Rcode }}</button>,
                    <button onclick="newInfo('Id')" class="txt">id: {{ .response.MsgHdr.Id }}</button>
                </p>
                    ;; <button onclick="newInfo('Flags')" class="txt">flags:</button>
                    <button onclick="newInfo('QRflag')" id="msgHdr{{ .response.MsgHdr.Response }}">qr</button>
                    <button onclick="newInfo('AAflag')" id="msgHdr{{.response.MsgHdr.Authoritative }}">aa</button>
                    <button onclick="newInfo('TCflag')" id="msgHdr{{.response.MsgHdr.Truncated }}">tc</button>
                    <button onclick="newInfo('RDflag')" id="msgHdr{{.response.MsgHdr.RecursionDesired }}">rd</button>
                    <button onclick="newInfo('RAflag')" id="msgHdr{{.response.MsgHdr.RecursionAvailable }}">ra</button>
                    <button onclick="newInfo('Zflag')" id="msgHdr{{.response.MsgHdr.Zero }}">z</button>
                    <button onclick="newInfo('ADflag')" id="msgHdr{{.response.MsgHdr.AuthenticatedData }}">ad</button>
                    <button onclick="newInfo('CDflag')" id="msgHdr{{.response.MsgHdr.CheckingDisabled }}">cd</button>
                    ;
                <button onclick="newInfo('QDCount')" class="txt">QUERY: {{ len .response.Question}},</button>
                <button onclick="newInfo('ANCount')" class="txt">ANSWER: {{ len .response.Answer}},</button>
                    <button onclick="newInfo('NSCount')" class="txt">AUTHORITY: {{ len .response.Ns}},</button>
                    <button onclick="newInfo('ARCount')" class="txt">ADDITIONAL: {{ len .response.Extra}}</button>
                    <br>
                <p>;; OPT PSEUDOSECTION:</p>
                <p>; EDNS: version: 0, flags:; udp: 1232 </p>
                {{ if .response.Question }}
                <br>
                <p>;; <button onclick="newInfo('QuestionSection')" class="txt">QUESTION SECTION;</button></p>
                {{ range .response.Question }}
                <p>;{{ .Name }}     {{ qtypeToString .Qtype }}    {{ qclassToString .Qclass }}</p>
                {{ end }}
                {{ end }}
                <p></p>
                {{ if .response.Answer }}
                <br>
                <p>;; <button onclick="newInfo('AnswerSection')" class="txt">ANSWER SECTION:</button></p>
                {{ range .response.Answer }}
                <p>{{ . }}</p>
                {{ end }}
                {{ end }}
                {{ if .response.Ns }}
                <br>
                <p>;; <button onclick="newInfo('AuthoritySection')" class="txt">AUTHORITY SECTION:</button></p>
                {{ range .response.Ns }}
                <p>{{ . }}</p>
                {{ end }}
                {{ end }}
                {{ if .response.Extra }}
                <br>
                <p>;; <button onclick="newInfo('AdditionalSection')" class="txt">ADDITIONAL SECTION:</button></p>
                {{ range .response.Extra }}
                <p>{{ . }}</p>
                {{ end }}
                {{ end }}
                <br>
                <p>;; <button onclick="newInfo('QueryTime')" class="txt">Query time: {{ .rtt }}</button></p>
                <p>;;<button onclick="newInfo('Server')" class="txt"> SERVER: {{ .nameserver }}#{{ .port }}({{ .nameserver }}) ({{ .transport }})</button></p>
                <p>;; <button onclick="newInfo('When')" class="txt">WHEN: {{ getTime }}</button></p>
                <p>;; <button onclick="newInfo('MsgSize')" class="txt">MSG SIZE rcvd: {{ .msgSize }}</button></p>
            </div>
        </div>
    </div>
    <div class="grid-item-info">
            <h1><button onclick="newInfo('Info')">Info Section</button></h1>
            <p>Click on the links in the digish output to get ya some info.</p>
            <iframe src="Info"  id="InfoBox"></iframe>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span6">
            {{template "flash.html" .}}
        </div>
    </div>
</div>
</div>


<div class="container">
    <a href="/"> homish </a>
</div>

{{template "footer.html" .}}
